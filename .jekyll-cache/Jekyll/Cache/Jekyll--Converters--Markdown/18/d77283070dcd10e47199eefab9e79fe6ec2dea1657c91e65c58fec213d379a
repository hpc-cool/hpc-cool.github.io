I"<p>本文告诉大家一个逗比方法可以用来删除程序自身</p>

<!--more-->

<!-- CreateTime:2020/8/6 18:49:15 -->

<p>我写了一个逗比 WPF 程序，这个程序会做邪恶的事情，会假装成小伙伴的桌面，然后小伙伴以为是桌面，接着打开任何程序都是在逗他的， 所以我期望在程序运行完成之后自动删除，这样小伙伴就不知道是谁做的</p>

<p>那么如何使用有趣的方法删除程序自身</p>

<p>可以试试下面代码</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>		<span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">DeleteItselfByCmd</span><span class="p">()</span>
		<span class="p">{</span>
			<span class="kt">string</span> <span class="n">command</span> <span class="p">=</span> <span class="s">"del /f /s /q "</span> <span class="p">+</span> <span class="n">Process</span><span class="p">.</span><span class="nf">GetCurrentProcess</span><span class="p">().</span><span class="n">MainModule</span><span class="p">.</span><span class="n">FileName</span><span class="p">;</span>
			<span class="n">Process</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="k">new</span> <span class="nf">ProcessStartInfo</span><span class="p">(</span><span class="s">"cmd.exe"</span><span class="p">,</span> <span class="s">"/C ping 127.1 -n 2 &gt; nul &amp; "</span> <span class="p">+</span> <span class="n">command</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">WindowStyle</span> <span class="p">=</span> <span class="n">ProcessWindowStyle</span><span class="p">.</span><span class="n">Hidden</span><span class="p">,</span>
				<span class="n">CreateNoWindow</span> <span class="p">=</span> <span class="k">true</span>
			<span class="p">});</span>
		<span class="p">}</span>
</code></pre></div></div>

<p>在软件退出之前调用这句话，然后退出软件，此时在 cmd 执行 <code class="language-plaintext highlighter-rouge">ping 127.1 -n 2</code> 的速度不够快，因此就会等待软件退出，然后执行删除代码</p>

:ET