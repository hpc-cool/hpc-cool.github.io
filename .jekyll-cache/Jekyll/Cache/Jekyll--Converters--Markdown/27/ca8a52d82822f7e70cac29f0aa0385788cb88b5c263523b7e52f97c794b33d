I"¤U<p>æˆ‘æœ‰ä¸€ä¸ªæ§ä»¶ï¼Œè¿™ä¸ªæ§ä»¶æ”¾åœ¨æ»šåŠ¨æ¡é‡Œé¢ï¼Œå¦‚æœåœ¨æ»šåŠ¨æ¡æ»šåŠ¨åˆ°è¿™ä¸ªæ§ä»¶å¯ä»¥è¢«ç”¨æˆ·çœ‹è§çš„æ—¶å€™ï¼Œæˆ‘èƒ½çŸ¥é“è¿™ä¸ªäº‹ä»¶ï¼Œæˆ–ä»ä»€ä¹ˆæ—¶æœºå¯ä»¥æ‹¿åˆ°ç”¨æˆ·å¯ä»¥çœ‹è§çš„èŒƒå›´ä¿®æ”¹ï¼Ÿ</p>

<!--more-->

<!-- CreateTime:2019/4/29 9:42:02 -->

<!-- csdn -->

<p>æ˜¨å¤©<a href="https://www.cnblogs.com/hupo376787">æ˜ŸæœŸå…«å†å¨¶ä½ </a> å¤§ä½¬é—®æˆ‘å¦‚ä½•åˆ¤æ–­åœ¨æ»šåŠ¨æ¡å†…å¯ä»¥çœ‹åˆ°æŸä¸ªå…ƒç´ ï¼Œä»–éœ€è¦åœ¨æ»šåŠ¨æ¡é‡Œé¢æ”¾ä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨ï¼Œåœ¨ç”¨æˆ·çœ‹ä¸åˆ°è¿™ä¸ªæ’­æ”¾å™¨çš„æ—¶å€™è‡ªåŠ¨åœä¸‹è¿™ä¸ªæ’­æ”¾å™¨</p>

<p>åœ¨ WPF å¯ä»¥é€šè¿‡ ScrollChanged æ‹¿åˆ°å½“å‰çš„æ»šåŠ¨åˆ°å“ªåŒæ—¶æ‹¿åˆ°æ»šåŠ¨æ¡å¯è§çš„å®½åº¦å’Œé«˜åº¦</p>

<p>åœ¨ ScrollChangedEventArgs æä¾›äº†å¤šä¸ªå±æ€§ç”¨äºæ‹¿åˆ°å½“å‰çš„æ»šåŠ¨æ¡çš„å¯è§çš„å®½åº¦å’Œé«˜åº¦ï¼Œæ»šåŠ¨æ¡çš„æ°´å¹³ç§»åŠ¨å’Œå‚ç›´çš„ç§»åŠ¨ï¼Œå…·ä½“è¯·çœ‹ä¸‹å›¾</p>

<!-- ![](image/WPF å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ§ä»¶åœ¨æ»šåŠ¨æ¡çš„é‡Œé¢æ˜¯ç”¨æˆ·å¯è§/WPF å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ§ä»¶åœ¨æ»šåŠ¨æ¡çš„é‡Œé¢æ˜¯ç”¨æˆ·å¯è§0.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F201942992659886" alt="" /></p>

<p>åœ¨ç”¨æˆ·ä¿®æ”¹å¤–å±‚æ§ä»¶çš„å®½åº¦æˆ–é«˜åº¦è®©æ»šåŠ¨æ¡çš„é«˜åº¦æˆ–å®½åº¦è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œå¯ä»¥ä» ViewportWidthChange å’Œ ViewportHeightChange å±æ€§çŸ¥é“æ»šåŠ¨æ¡çš„å¯è§†å®½åº¦å’Œé«˜åº¦ä¿®æ”¹äº†å¤šå°‘</p>

<p>åœ¨ç”¨æˆ·ä¿®æ”¹æ»šåŠ¨æ¡é‡Œé¢çš„æ§ä»¶çš„å®½åº¦æˆ–é«˜åº¦çš„æ—¶å€™ï¼Œå¯ä»¥ä» ExtentWidthChange ç­‰å±æ€§çŸ¥é“ç”¨æˆ·ä¿®æ”¹äº†å¤šå°‘</p>

<p>é‚£ä¹ˆå¦‚æœåˆ¤æ–­æŸä¸ªæ§ä»¶åœ¨æ»šåŠ¨æ¡å¯è§å†…å°±å¯ä»¥æ‹¿åˆ°æŸä¸ªæ§ä»¶çš„å¤–æ¥çŸ©å½¢å’Œæ»šåŠ¨æ¡å¯è§å¤§å°è¿›è¡ŒçŸ©å½¢åˆ¤æ–­ï¼Œè¯·çœ‹ä¸‹å›¾</p>

<!-- ![](image/WPF å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ§ä»¶åœ¨æ»šåŠ¨æ¡çš„é‡Œé¢æ˜¯ç”¨æˆ·å¯è§/WPF å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ§ä»¶åœ¨æ»šåŠ¨æ¡çš„é‡Œé¢æ˜¯ç”¨æˆ·å¯è§1.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F201942993112871" alt="" /></p>

<p>é‚£ä¹ˆå¦‚ä½•æ‹¿åˆ°ä¸€ä¸ªæ§ä»¶çš„å¤–æ¥çŸ©å½¢ï¼Ÿé¦–å…ˆéœ€è¦çŸ¥é“è¿™ä¸ªæ§ä»¶åœ¨å¤–å±‚çš„å‚ç›´æˆ–æ°´å¹³åç§»ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ§ä»¶åœ¨å¤–å±‚æ§ä»¶çš„å·¦ä¸Šè§’åæ ‡æ˜¯å¤šå°‘ï¼Œç„¶åè¿˜éœ€è¦çŸ¥é“è¿™ä¸ªæ§ä»¶çš„å®½åº¦å’Œé«˜åº¦ï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“è¿™ä¸ªæ§ä»¶çš„å¤–æ¥çŸ©å½¢ï¼Œæ‹¿åˆ°ä¸€ä¸ªå…ƒç´ åœ¨å¤–å±‚æ§ä»¶çš„å·¦ä¸Šè§’åæ ‡å¯ä»¥é€šè¿‡æ‹¿åˆ°è¿™ä¸ªæ§ä»¶çš„<code class="language-plaintext highlighter-rouge">(0,0)</code> åæ ‡è½¬æ¢åˆ°å¤–å±‚æ§ä»¶ï¼Œè®¡ç®—å‡ºè¿™ä¸ªåæ ‡æ˜¯ç›¸å¯¹å¤–å±‚æ§ä»¶çš„å¤§å°</p>

<p>ä¾‹å¦‚æˆ‘æœ‰ä¸€ä¸ªæ§ä»¶æ˜¯ control ä»–çš„å¤–å±‚æ§ä»¶æ˜¯ StackPanel é€šè¿‡ä¸‹é¢ä»£ç å°±å¯ä»¥çœ‹åˆ°æ§ä»¶çš„å·¦ä¸Šè§’çš„å¤§å°</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kt">var</span> <span class="n">top</span> <span class="p">=</span> <span class="n">control</span><span class="p">.</span><span class="nf">TranslatePoint</span><span class="p">(</span><span class="k">new</span> <span class="nf">Point</span><span class="p">(),</span> <span class="n">StackPanel</span><span class="p">);</span>
</code></pre></div></div>

<p>æˆ‘æ‹¿åˆ°äº†å·¦ä¸Šè§’è¿˜éœ€è¦æ‹¿åˆ°æ§ä»¶çš„å®½åº¦å’Œé«˜åº¦æ‰èƒ½è®¡ç®—å‡ºçŸ©å½¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢ä»£ç </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="c1">// æ§ä»¶çš„å®½åº¦å’Œé«˜åº¦</span>
            <span class="kt">var</span> <span class="n">controlBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">control</span><span class="p">.</span><span class="n">DesiredSize</span><span class="p">);</span>
</code></pre></div></div>

<p>æ­¤æ—¶è®¡ç®—æ»šåŠ¨æ¡çš„ç”¨æˆ·å¯è§çš„å¤§å°ï¼Œé€šè¿‡æ»šåŠ¨æ¡çš„æ°´å¹³å’Œå‚ç›´ç§»åŠ¨åŠ ä¸Šå®½åº¦å’Œé«˜åº¦ï¼Œè¯·çœ‹ä»£ç </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kt">var</span> <span class="n">viewBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="k">new</span> <span class="nf">Point</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">HorizontalOffset</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">VerticalOffset</span><span class="p">),</span> <span class="k">new</span> <span class="nf">Size</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">ViewportWidth</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">ViewportHeight</span><span class="p">));</span>
</code></pre></div></div>

<p>åˆ¤æ–­ controlBounds å’Œ viewBounds æ˜¯å¦ç›¸äº¤å°±å¯ä»¥çŸ¥é“ç”¨æˆ·æ˜¯å¦å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ§ä»¶ï¼Œå½“ç„¶å¦‚æœæ˜¯æƒ³è¦åˆ¤æ–­ç”¨æˆ·å¯ä»¥å®Œå…¨çœ‹åˆ°è¿™ä¸ªæ§ä»¶ï¼Œå°±æ˜¯åˆ¤æ–­æ»šåŠ¨æ¡æ˜¯å¦å®Œå…¨æ˜¾ç¤ºé‡Œé¢çš„æ§ä»¶</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="k">if</span> <span class="p">(</span><span class="n">viewBounds</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="n">controlBounds</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"æ§ä»¶å®Œå…¨æ˜¾ç¤º"</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">viewBounds</span><span class="p">.</span><span class="nf">IntersectsWith</span><span class="p">(</span><span class="n">controlBounds</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"ç”¨æˆ·å¯ä»¥çœ‹åˆ°æ§ä»¶"</span><span class="p">);</span>
            <span class="p">}</span>
</code></pre></div></div>

<p>ä¸‹é¢æ˜¯æˆ‘å®é™…å†™çš„ä»£ç </p>

<p>æˆ‘åœ¨æ»šåŠ¨æ·»åŠ äº†ä¸€ä¸ªæ§ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ äº†å¾ˆå¤šæ–‡æœ¬ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ˜¯æ­ªæ¥¼çš„æ–‡æœ¬</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">&lt;</span><span class="n">ScrollViewer</span> <span class="n">ScrollChanged</span><span class="p">=</span><span class="s">"ScrollViewer_OnScrollChanged"</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="n">StackPanel</span> <span class="n">x</span><span class="p">:</span><span class="n">Name</span><span class="p">=</span><span class="s">"StackPanel"</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">x</span><span class="p">:</span><span class="n">Name</span><span class="p">=</span><span class="s">"TextBlock"</span> <span class="n">Text</span><span class="p">=</span><span class="s">"æ­ªæ¥¼"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="n">TextBlock</span> <span class="n">Text</span><span class="p">=</span><span class="s">"123"</span><span class="p">&gt;&lt;/</span><span class="n">TextBlock</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="n">StackPanel</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="n">ScrollViewer</span><span class="p">&gt;</span>

</code></pre></div></div>

<p>æˆ‘éœ€è¦åœ¨æ­ªæ¥¼çš„æ–‡æœ¬è¢«ç”¨æˆ·çœ‹åˆ°çš„æ—¶å€™è¾“å‡ºï¼Œäºæ˜¯æˆ‘å°±åœ¨åå°ä»£ç é€šè¿‡æœ¬æ–‡ä¸Šé¢æä¾›çš„æ–¹æ³•æ‹¿åˆ°è¿™ä¸ªå…ƒç´ çš„çŸ©å½¢åˆ¤æ–­</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">private</span> <span class="k">void</span> <span class="nf">ScrollViewer_OnScrollChanged</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">ScrollChangedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">UIElement</span> <span class="n">control</span> <span class="p">=</span> <span class="n">TextBlock</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">top</span> <span class="p">=</span> <span class="n">control</span><span class="p">.</span><span class="nf">TranslatePoint</span><span class="p">(</span><span class="k">new</span> <span class="nf">Point</span><span class="p">(),</span> <span class="n">StackPanel</span><span class="p">);</span>
            <span class="c1">// æ§ä»¶çš„å®½åº¦å’Œé«˜åº¦</span>
            <span class="kt">var</span> <span class="n">controlBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="n">top</span><span class="p">,</span> <span class="n">control</span><span class="p">.</span><span class="n">DesiredSize</span><span class="p">);</span>

            <span class="c1">// ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„å¤§å°</span>
            <span class="kt">var</span> <span class="n">viewBounds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Rect</span><span class="p">(</span><span class="k">new</span> <span class="nf">Point</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">HorizontalOffset</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">VerticalOffset</span><span class="p">),</span>
                <span class="k">new</span> <span class="nf">Size</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">ViewportWidth</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">ViewportHeight</span><span class="p">));</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">viewBounds</span><span class="p">.</span><span class="nf">IntersectsWith</span><span class="p">(</span><span class="n">controlBounds</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"æ­ªæ¥¼"</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"ä¸æ­ªæ¥¼"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

</code></pre></div></div>

<p>ä»£ç æ”¾åœ¨<a href="https://github.com/lindexi/lindexi_gd/tree/d7dcb508e81184a76441834113159761646de5d9/BallkowhejallColalljaygairwair">github</a></p>

:ET