I"ì5<p>æœ¬æ–‡å°†æ¥å®‰åˆ©å¤§å®¶ä¸€ä¸ªå¾ˆå¥½ç”¨çš„ UI æ§ä»¶åº“ï¼Œè‘—åçš„ HandyControl åº“ã€‚åœ¨æƒ³è¦ç»™ ListView æ·»åŠ ä¸€ä¸ªè¡¨å¤´ï¼ŒåŒæ—¶æƒ³è¦è¿™ä¸ª ListView åœ¨æ²¡æœ‰ç¾å·¥å°å§å§çš„å¸®åŠ©ä¸‹ä¹Ÿèƒ½çœ‹èµ·æ¥æ¯”è¾ƒå¥½çœ‹ï¼Œæ­¤æ—¶å°±ç‰¹åˆ«é€‚åˆä½¿ç”¨ HandyControl åº“</p>

<!--more-->

<!-- CreateTime:2020/7/13 8:59:36 -->

<p>å¤§æ¦‚åšå‡ºæ¥çš„æ•ˆæœå¦‚ä¸‹</p>

<!-- ![](image/WPF ä½¿ç”¨ HandyControl ç»™ ListView æ·»åŠ æ¼‚äº®çš„è¡¨å¤´æ•ˆæœ/WPF ä½¿ç”¨ HandyControl ç»™ ListView æ·»åŠ æ¼‚äº®çš„è¡¨å¤´æ•ˆæœ0.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F20207111635465.jpg" alt="" /></p>

<p>å®Œæˆä¸Šé¢çš„æ•ˆæœå¾ˆç®€å•ï¼Œè®©æˆ‘ä¸€æ­¥æ­¥å‘Šè¯‰å¤§å®¶å¦‚ä½•åš</p>

<p>ç¬¬ä¸€æ­¥æ˜¯é€šè¿‡ NuGet å®‰è£… <a href="https://www.nuget.org/packages/HandyControl">HandyControl</a> åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨ <a href="https://github.com/HandyOrg/HandyControl">GitHub å®Œå…¨å¼€æº</a>çš„é¡¹ç›®</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Install</span><span class="p">-</span><span class="n">Package</span> <span class="n">HandyControl</span> 
</code></pre></div></div>

<p>å¦‚æœæ˜¯ SDK Style æ ¼å¼çš„ csproj é¡¹ç›®æ–‡ä»¶ï¼Œå¯ä»¥æ·»åŠ ä¸‹é¢ä»£ç å®‰è£…</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;ItemGroup&gt;</span>
    <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"HandyControl"</span> <span class="na">Version=</span><span class="s">"2.5.0.2"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/ItemGroup&gt;</span>
</code></pre></div></div>

<p>å®‰è£…å®Œæˆä¹‹åæ‰“å¼€ App.xaml æ–‡ä»¶æ·»åŠ å¼•ç”¨</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;Application.Resources&gt;</span>
        <span class="nt">&lt;ResourceDictionary&gt;</span>
            <span class="nt">&lt;ResourceDictionary.MergedDictionaries&gt;</span>
                <span class="nt">&lt;ResourceDictionary</span> <span class="na">Source=</span><span class="s">"pack://application:,,,/HandyControl;component/Themes/SkinDefault.xaml"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;ResourceDictionary</span> <span class="na">Source=</span><span class="s">"pack://application:,,,/HandyControl;component/Themes/Theme.xaml"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/ResourceDictionary.MergedDictionaries&gt;</span>
        <span class="nt">&lt;/ResourceDictionary&gt;</span>
    <span class="nt">&lt;/Application.Resources&gt;</span>
</code></pre></div></div>

<p>æ·»åŠ äº†ä¸Šé¢ä»£ç å°†ä¼šç»™å…¨å±€æ·»åŠ è¶³å¤Ÿçš„æ ·å¼ï¼Œå› æ­¤å¾ˆå¤šæ§ä»¶çš„é»˜è®¤çš„æ ·å¼ä¹Ÿå°±è¢«æ›´æ”¹äº†ï¼Œå¦‚æœ¬æ–‡çš„ ListView æ§ä»¶</p>

<p>å®Œæˆäº†ç¬¬ä¸€æ­¥çš„å®‰è£…åº“äº†ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åˆ›å»ºè™šæ‹Ÿçš„æ•°æ®</p>

<p>æˆ‘æƒ³è¦åœ¨ç•Œé¢æ˜¾ç¤ºä¸€ä¸ª ListView åŠ ä¸Šå†…å®¹ï¼Œæ­¤æ—¶æˆ‘å°±éœ€è¦ä¸€äº›è™šæ‹Ÿçš„æ•°æ®ç”¨æ¥åšç•Œé¢æ˜¾ç¤ºã€‚å¦‚æœå°ä¼™ä¼´æœ‰è‡ªå·±çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸€æ­¥ä¹Ÿå¯ä»¥è·³è¿‡</p>

<p>å…ˆåˆ›å»ºä¸€ä¸ªç”¨æ¥æµ‹è¯•çš„ç±»ï¼Œå¦‚ä¸‹é¢ä»£ç çš„ Foo ç±»</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">class</span> <span class="nc">Foo</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">int</span> <span class="n">Index</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="k">public</span> <span class="kt">string</span> <span class="n">Remark</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>æ¥ä¸‹æ¥åœ¨ MainWindow é‡Œé¢åˆ›å»º <code class="language-plaintext highlighter-rouge">ObservableCollection&lt;Foo&gt;</code> çš„ä¸€ä¸ªå±æ€§</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">public</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="n">Foo</span><span class="p">&gt;</span> <span class="n">DataList</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ObservableCollection</span><span class="p">&lt;</span><span class="n">Foo</span><span class="p">&gt;();</span>
</code></pre></div></div>

<p>æ³¨æ„è®¿é—®æƒé™å“¦ï¼Œæƒ³è¦åœ¨ç•Œé¢ç»‘å®šå¯éœ€è¦ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">public</code> ç­‰å…³é”®è¯è€Œä¸èƒ½ä½¿ç”¨ <code class="language-plaintext highlighter-rouge">private</code> å“¦</p>

<p>æ¥ç€æ·»åŠ æµ‹è¯•ä½¿ç”¨çš„æ•°æ®ï¼Œä¸‹é¢ä»£ç æ”¾åœ¨ MainWindow çš„æ„é€ å‡½æ•°</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">public</span> <span class="nf">MainWindow</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">InitializeComponent</span><span class="p">();</span>

            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
            <span class="p">{</span>
                <span class="n">DataList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">Foo</span><span class="p">()</span>
                <span class="p">{</span>
                    <span class="n">Index</span> <span class="p">=</span> <span class="n">i</span><span class="p">,</span>
                    <span class="n">Name</span> <span class="p">=</span> <span class="s">"lindexi"</span><span class="p">,</span>
                    <span class="n">Remark</span> <span class="p">=</span> <span class="s">"doubi"</span>
                <span class="p">});</span>
            <span class="p">}</span>

        <span class="p">}</span>
</code></pre></div></div>

<p>æ·»åŠ æµ‹è¯•æ•°æ®çš„æœ€åä¸€æ­¥æ˜¯è®¾ç½® <code class="language-plaintext highlighter-rouge">DataContext</code> ä¸º MainWindow è‡ªèº«ï¼Œå› ä¸ºå’±æ²¡æœ‰åˆ›å»ºä¸€ä¸ª ViewModel è€Œæ˜¯åœ¨ MainWindow é‡Œé¢åˆ›å»ºä¸€ä¸ªå±æ€§ã€‚è®¾ç½® <code class="language-plaintext highlighter-rouge">DataContext</code> ä¸º MainWindow å°†å¯ä»¥ç»‘å®š MainWindow å®šä¹‰çš„å±æ€§</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="n">DataContext</span> <span class="p">=</span> <span class="k">this</span><span class="p">;</span>
</code></pre></div></div>

<p>æœ€åä¸€æ­¥å°±æ˜¯ç•Œé¢å•¦</p>

<p>æ‰“å¼€ MainWindow.xaml æ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢ä»£ç </p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;ListView</span> <span class="na">Margin=</span><span class="s">"10,10,10,10"</span> <span class="na">ItemsSource=</span><span class="s">"{Binding DataList}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ListView.View&gt;</span>
                <span class="nt">&lt;GridView&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"80"</span> <span class="na">Header=</span><span class="s">"Index"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Index}"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"100"</span> <span class="na">Header=</span><span class="s">"Name"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Name}"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"200"</span> <span class="na">Header=</span><span class="s">"Remark"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Remark}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/GridView&gt;</span>
            <span class="nt">&lt;/ListView.View&gt;</span>
        <span class="nt">&lt;/ListView&gt;</span>
</code></pre></div></div>

<p>æ­¤æ—¶å¯ä»¥å°è¯•è¿è¡Œä¸€ä¸‹åº”ç”¨ï¼Œå¦‚æœå’Œæˆ‘å†™å¾—ä¸€æ ·ï¼Œé‚£ä¹ˆå¯ä»¥çœ‹åˆ°ä¸Šå›¾çš„ç•Œé¢</p>

<p>ä¸Šé¢ä»£ç ä½¿ç”¨ GridView å’Œ GridViewColumn çš„æ–¹å¼å®šä¹‰äº† ListView çš„è¡¨å¤´</p>

<p>è€Œ Header é‡Œé¢çš„å†…å®¹å°±æ˜¯è¡¨å¤´æ˜¾ç¤ºçš„æ–‡æœ¬ï¼Œå¯ä»¥è¿›è¡Œåå°ä»£ç è®¾ç½®ï¼Œä¹Ÿå¯ä»¥ç»‘å®šç­‰</p>

<p>è€Œ DisplayMemberBinding çš„å€¼å°±æ˜¯å®é™…ä¸ŠæœŸæœ›ç»‘å®šçš„å…ƒç´ çš„å±æ€§å</p>

<p>å¦‚æœæƒ³è¦æ˜¾ç¤ºæ›´å¤æ‚çš„å†…å®¹ï¼Œ é‚£ä¹ˆä»…ä½¿ç”¨ DisplayMemberBinding æ˜¯ä¸å¤Ÿçš„ï¼Œè¿™ä¸ªå±æ€§ä»…å¯ä»¥è®¾ç½®æ–‡æœ¬ï¼Œå¤æ‚çš„å†…å®¹éœ€è¦ç”¨åˆ° CellTemplate å±æ€§ã€‚è¿™éƒ¨åˆ†è¯·çœ‹ <a href="https://blog.csdn.net/xpj8888/article/details/83210669">WPF æ§ä»¶ã€Lã€‘ListView(ä¸‰) ListView+GridView+GridViewColumn+DisplayMemberBindingå¤šåˆ—ç»‘å®šæ•°æ®çš„ç”¨æ³•_xpj8888çš„åšå®¢-CSDNåšå®¢_wpf gridview</a></p>

<p>å¦‚æœåªæ˜¯éœ€è¦ç®€å•çš„å®šåˆ¶ï¼Œå¦‚ä¿®æ”¹é¢œè‰²ç­‰ï¼Œå¯ä»¥é€šè¿‡é‡å†™èµ„æºå­—å…¸çš„æ–¹å¼æ›´æ”¹</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;ListView</span> <span class="na">Margin=</span><span class="s">"10,10,10,10"</span> <span class="na">ItemsSource=</span><span class="s">"{Binding DataList}"</span> <span class="na">Background=</span><span class="s">"#565656"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ListView.Resources&gt;</span>
                <span class="c">&lt;!-- åˆ—è¡¨é¡¹é¢œè‰² --&gt;</span>
                <span class="nt">&lt;SolidColorBrush</span> <span class="na">x:Key=</span><span class="s">"RegionBrush"</span> <span class="na">Color=</span><span class="s">"#02A2A3"</span><span class="nt">&gt;&lt;/SolidColorBrush&gt;</span>

                <span class="c">&lt;!-- åˆ—è¡¨æ–‡æœ¬é¢œè‰² --&gt;</span>
                <span class="nt">&lt;SolidColorBrush</span> <span class="na">x:Key=</span><span class="s">"PrimaryTextBrush"</span> <span class="na">Color=</span><span class="s">"White"</span><span class="nt">&gt;&lt;/SolidColorBrush&gt;</span>

                <span class="c">&lt;!-- é€‰ä¸­é¢œè‰² --&gt;</span>
                <span class="nt">&lt;SolidColorBrush</span> <span class="na">x:Key=</span><span class="s">"PrimaryBrush"</span> <span class="na">Color=</span><span class="s">"#A602A5"</span><span class="nt">&gt;&lt;/SolidColorBrush&gt;</span>
            <span class="nt">&lt;/ListView.Resources&gt;</span>
            <span class="nt">&lt;ListView.View</span> <span class="nt">&gt;</span>
                <span class="nt">&lt;GridView</span> <span class="nt">&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"80"</span> <span class="na">Header=</span><span class="s">"Index"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Index}"</span> <span class="nt">/&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"100"</span> <span class="na">Header=</span><span class="s">"Name"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Name}"</span><span class="nt">/&gt;</span>
                    <span class="nt">&lt;GridViewColumn</span> <span class="na">Width=</span><span class="s">"200"</span> <span class="na">Header=</span><span class="s">"Remark"</span> <span class="na">DisplayMemberBinding=</span><span class="s">"{Binding Remark}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/GridView&gt;</span>
            <span class="nt">&lt;/ListView.View&gt;</span>
        <span class="nt">&lt;/ListView&gt;</span>
</code></pre></div></div>

<p>åœ¨ ListView å®šä¹‰èµ„æºåæ˜¯ RegionBrush å°±å¯ä»¥æ›´æ”¹åˆ—è¡¨é¡¹çš„é¢œè‰²ï¼Œè€Œé€šè¿‡å®šä¹‰ PrimaryTextBrush å°±å¯ä»¥æ›´æ”¹åˆ—è¡¨é¡¹ç›®çš„æ–‡æœ¬é¢œè‰²</p>

<p>ä¸Šé¢ä»£ç æˆ‘ä½¿ç”¨çš„æ˜¯çº¯è‰²çš„ SolidColorBrush ç”»åˆ·ï¼Œå…¶å®åœ¨ HC é‡Œé¢æ”¯æŒä»»æ„çš„ç”»åˆ·ï¼Œå› æ­¤å°ä¼™ä¼´å¯ä»¥å®šä¹‰ä¸ºå›¾ç‰‡ç”»åˆ·</p>

<p>ä¸ºä»€ä¹ˆè¿™æ ·å®šä¹‰å°±æœ‰æ•ˆæœï¼ŸåŸå› æ˜¯ä½¿ç”¨äº† WPF çš„èµ„æºè¦†ç›–æœºåˆ¶ï¼Œè¶Šé è¿‘æ§ä»¶çš„èµ„æºå®šä¹‰ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå°†ä¼šè¦†ç›–åŸå…ˆå®šä¹‰çš„èµ„æºã€‚è€Œåœ¨ HC é‡Œé¢é»˜è®¤æ ·å¼ä½¿ç”¨çš„èµ„æºçš„ Key å’Œåœ¨ ListView é‡Œé¢å®šä¹‰çš„ç›¸åŒï¼Œæ­¤æ—¶å°†ä¼šè¢« ListView å®šä¹‰çš„èµ„æºè¦†ç›–</p>

<p>ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠ„ä¸Šé¢çš„ä»£ç ï¼Œä¿®æ”¹ Color çš„å€¼ã€‚æˆ–è€…å°† SolidColorBrush æ›´æ¢ä¸€ä¸‹</p>

<p>å…³äº ListView åœ¨ HC æ§ä»¶é‡Œé¢çš„å®šä¹‰çš„ä»£ç ï¼Œæ”¾åœ¨ <code class="language-plaintext highlighter-rouge">src\Shared\HandyControl_Shared\Themes\Styles\ListView.xaml</code> è¿™é‡Œï¼Œä»£ç æ˜¯å®Œå…¨å¼€æºçš„ï¼Œå°ä¼™ä¼´ä¹Ÿå¯ä»¥è‡ªå·±å»æ‹·è´ä»£ç </p>

<p>è¿™ä¸ªé¡¹ç›®æ‰€æœ‰ä»£ç æ”¾åœ¨ <a href="https://github.com/lindexi/lindexi_gd/tree/6c56865e43a6621111586ced2c93ea3099b00ae2/WaicheardeaharjereCiyallyerekelhear">github</a> æ¬¢è¿å°ä¼™ä¼´è®¿é—®</p>

:ET