I"­J<p>æœ‰ä¸€äº›è®¾è®¡å¸ˆå–œæ¬¢æ”¹æ”¹æ”¹ï¼Œç•Œé¢çš„æ•´ä½“å¸ƒå±€æ€»æ˜¯å˜æ›´ï¼Œå¦‚ç»™ Grid åŠ ä¸€åˆ—åˆ ä¸€è¡Œç­‰ï¼Œæ¯æ¬¡è¿™æ ·çš„æ›´æ”¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦å°å¿ƒä¿®æ”¹ Grid é‡Œé¢çš„å…ƒç´ è®¾ç½®çš„è¡Œåˆ—åºå·ã€‚æˆ‘è®¤ä¸ºåœ¨ Grid ç®€å•çš„æ—¶å€™ï¼Œå½“ç„¶å¤§å¤šæ•°æ—¶å€™éƒ½åº”è¯¥è®© Grid ä¸é‚£ä¹ˆå¤æ‚ï¼Œé‚£ä¹ˆåºå·çš„å¯è¯»æ€§ä¸é”™ã€‚å¦‚æœ Grid è¡Œåˆ—æ•°é‡æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆæ­¤æ—¶è¡Œåˆ—çš„åºå·çš„å¯è¯»æ€§å°†ä¼šé™ä½ï¼Œæœ¬æ–‡æ¥å‘Šè¯‰å¤§å®¶ä¸€ä¸ªç®€å•çš„æ–¹æ³•ï¼Œå¯ä»¥ç»™ Grid çš„è¡Œåˆ—æ·»åŠ åç§°ç»‘å®šï¼Œè®©å…ƒç´ ç»‘å®šåˆ°è¡Œåˆ—å¯ä»¥ä¸ä½¿ç”¨åºå·ï¼Œè€Œæ˜¯ä½¿ç”¨åç§°</p>

<!--more-->

<!-- CreateTime:2021/4/10 8:46:49 -->

<!-- å‘å¸ƒ -->

<p>åœ¨å¼€å§‹ä¹‹å‰è®©å¤§å®¶çœ‹ä¸€ä¸‹æ•ˆæœï¼Œæˆ‘æœ‰ä¸€ä¸ª Grid çš„å®šä¹‰å¦‚ä¸‹</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;Grid&gt;</span>
    <span class="nt">&lt;Grid.RowDefinitions&gt;</span>
      <span class="nt">&lt;RowDefinition</span> <span class="na">local:GridExtensions.Name=</span><span class="s">"R0"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;RowDefinition</span> <span class="na">local:GridExtensions.Name=</span><span class="s">"R1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Grid.RowDefinitions&gt;</span>
    <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
      <span class="nt">&lt;ColumnDefinition</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;ColumnDefinition</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;ColumnDefinition</span> <span class="na">local:GridExtensions.Name=</span><span class="s">"C1"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>
  <span class="nt">&lt;/Grid&gt;</span>
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°æˆ‘åœ¨ Grid ä¸Šéƒ½é™„åŠ äº†å±æ€§ GridExtensions.Name å±æ€§ï¼Œè¿™å°±æ˜¯æœ¬æ–‡çš„æ ¸å¿ƒï¼Œé€šè¿‡é™„åŠ å±æ€§å®ç°è®© Grid çš„è¡Œåˆ—åç§°ç»‘å®šã€‚ç»™ Grid çš„è¡Œåˆ—ä¸€ä¸ªå‘½åï¼Œå°±å¯ä»¥è®©å…ƒç´ ç»‘å®šå‘½åè€Œä¸æ˜¯åºå·</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;TextBlock</span> <span class="na">local:GridExtensions.RowName=</span><span class="s">"R1"</span> <span class="na">local:GridExtensions.ColumnName=</span><span class="s">"C1"</span> <span class="na">Text=</span><span class="s">"12"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>æ·»åŠ ä¸€ä¸ª TextBlock ç»‘å®šè¡Œåä¸º <code class="language-plaintext highlighter-rouge">R1</code> çš„è¡Œå¸ƒå±€ï¼Œç»‘å®šåˆ—æ˜¯ <code class="language-plaintext highlighter-rouge">C1</code> ä¸Šï¼Œåœ¨ VisualStudio è®¾è®¡å™¨ä¸Šå¯ä»¥çœ‹åˆ°æ•ˆæœå¦‚ä¸‹</p>

<!-- ![](image/WPF ç»™ Grid çš„è¾…åŠ©æ–¹æ³• æ·»åŠ è¡Œåˆ—åç§°ç»‘å®š/WPF ç»™ Grid çš„è¾…åŠ©æ–¹æ³• æ·»åŠ è¡Œåˆ—åç§°ç»‘å®š0.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F2021410850544762.jpg" alt="" /></p>

<p>é€šè¿‡æ­¤æ–¹æ³•å°±å¯ä»¥åœ¨ç»™ Grid åŠ è¡Œåˆ—æˆ–åˆ é™¤è¡Œåˆ—çš„æ—¶å€™ï¼Œå‡å°‘ä¿®æ”¹ä¸€äº›å…ƒç´ çš„è¡Œåˆ—å¸ƒå±€ã€‚å› ä¸ºå…ƒç´ ç»‘å®šçš„æ˜¯è¡Œåˆ—çš„åè€Œä¸æ˜¯åºå·ï¼Œå› æ­¤é¡ºåºä¿®æ”¹çš„æ—¶å€™ä¸ä¼šå½±å“</p>

<p>è¿™ä¸ªé™„åŠ å±æ€§çš„å®ç°ä¹Ÿéå¸¸ç®€å•ï¼Œè¯·çœ‹ä¸‹é¢ä»£ç </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">class</span> <span class="nc">GridExtensions</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">DependencyProperty</span> <span class="n">NameProperty</span> <span class="p">=</span> <span class="n">DependencyProperty</span><span class="p">.</span><span class="nf">RegisterAttached</span><span class="p">(</span>
            <span class="s">"Name"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span> <span class="k">typeof</span><span class="p">(</span><span class="n">GridExtensions</span><span class="p">),</span> <span class="k">new</span> <span class="nf">PropertyMetadata</span><span class="p">(</span><span class="k">default</span><span class="p">(</span><span class="kt">string</span><span class="p">)));</span>

        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SetName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">,</span> <span class="kt">string</span> <span class="k">value</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">element</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">NameProperty</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="n">element</span><span class="p">.</span><span class="nf">GetValue</span><span class="p">(</span><span class="n">NameProperty</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">DependencyProperty</span> <span class="n">RowNameProperty</span> <span class="p">=</span> <span class="n">DependencyProperty</span><span class="p">.</span><span class="nf">RegisterAttached</span><span class="p">(</span>
            <span class="s">"RowName"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span> <span class="k">typeof</span><span class="p">(</span><span class="n">GridExtensions</span><span class="p">),</span>
            <span class="k">new</span> <span class="nf">PropertyMetadata</span><span class="p">(</span><span class="k">default</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span> <span class="n">RowName_PropertyChanged</span><span class="p">));</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">RowName_PropertyChanged</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">d</span><span class="p">,</span> <span class="n">DependencyPropertyChangedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="k">is</span> <span class="n">FrameworkElement</span> <span class="n">frameworkElement</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">NewValue</span> <span class="k">is</span> <span class="kt">string</span> <span class="n">rowName</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">rowName</span><span class="p">))</span>
                    <span class="p">{</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">frameworkElement</span><span class="p">.</span><span class="n">Parent</span> <span class="k">is</span> <span class="n">Grid</span> <span class="n">grid</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">grid</span><span class="p">.</span><span class="n">RowDefinitions</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                        <span class="p">{</span>
                            <span class="kt">var</span> <span class="n">gridRowDefinition</span> <span class="p">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">RowDefinitions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                            <span class="kt">var</span> <span class="n">gridRowName</span> <span class="p">=</span> <span class="nf">GetName</span><span class="p">(</span><span class="n">gridRowDefinition</span><span class="p">);</span>
                            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">gridRowName</span><span class="p">)</span> <span class="p">&amp;&amp;</span>
                                <span class="n">gridRowName</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="n">rowName</span><span class="p">,</span> <span class="n">StringComparison</span><span class="p">.</span><span class="n">Ordinal</span><span class="p">))</span>
                            <span class="p">{</span>
                                <span class="n">Grid</span><span class="p">.</span><span class="nf">SetRow</span><span class="p">(</span><span class="n">frameworkElement</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
                                <span class="k">return</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentException</span><span class="p">(</span><span class="s">"åªæœ‰åœ¨Gridå®¹å™¨å†…æ‰èƒ½è®¾ç½® RowName é™„åŠ å±æ€§"</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SetRowName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">,</span> <span class="kt">string</span> <span class="k">value</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">element</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">RowNameProperty</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetRowName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="n">element</span><span class="p">.</span><span class="nf">GetValue</span><span class="p">(</span><span class="n">RowNameProperty</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">DependencyProperty</span> <span class="n">ColumnNameProperty</span> <span class="p">=</span> <span class="n">DependencyProperty</span><span class="p">.</span><span class="nf">RegisterAttached</span><span class="p">(</span>
            <span class="s">"ColumnName"</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span> <span class="k">typeof</span><span class="p">(</span><span class="n">GridExtensions</span><span class="p">),</span>
            <span class="k">new</span> <span class="nf">PropertyMetadata</span><span class="p">(</span><span class="k">default</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span> <span class="n">ColumnName_PropertyChanged</span><span class="p">));</span>

        <span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ColumnName_PropertyChanged</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">d</span><span class="p">,</span> <span class="n">DependencyPropertyChangedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">d</span> <span class="k">is</span> <span class="n">FrameworkElement</span> <span class="n">frameworkElement</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">NewValue</span> <span class="k">is</span> <span class="kt">string</span> <span class="n">columnName</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">columnName</span><span class="p">))</span>
                    <span class="p">{</span>
                        <span class="k">return</span><span class="p">;</span>
                    <span class="p">}</span>

                    <span class="k">if</span> <span class="p">(</span><span class="n">frameworkElement</span><span class="p">.</span><span class="n">Parent</span> <span class="k">is</span> <span class="n">Grid</span> <span class="n">grid</span><span class="p">)</span>
                    <span class="p">{</span>
                        <span class="k">for</span> <span class="p">(</span><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">grid</span><span class="p">.</span><span class="n">ColumnDefinitions</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
                        <span class="p">{</span>
                            <span class="kt">var</span> <span class="n">gridColumnDefinition</span> <span class="p">=</span> <span class="n">grid</span><span class="p">.</span><span class="n">ColumnDefinitions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
                            <span class="kt">var</span> <span class="n">gridColumnName</span> <span class="p">=</span> <span class="nf">GetName</span><span class="p">(</span><span class="n">gridColumnDefinition</span><span class="p">);</span>
                            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="nf">IsNullOrEmpty</span><span class="p">(</span><span class="n">gridColumnName</span><span class="p">)</span> <span class="p">&amp;&amp;</span>
                                <span class="n">gridColumnName</span><span class="p">.</span><span class="nf">Equals</span><span class="p">(</span><span class="n">columnName</span><span class="p">,</span> <span class="n">StringComparison</span><span class="p">.</span><span class="n">Ordinal</span><span class="p">))</span>
                            <span class="p">{</span>
                                <span class="n">Grid</span><span class="p">.</span><span class="nf">SetColumn</span><span class="p">(</span><span class="n">frameworkElement</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
                                <span class="k">return</span><span class="p">;</span>
                            <span class="p">}</span>
                        <span class="p">}</span>
                    <span class="p">}</span>
                    <span class="k">else</span>
                    <span class="p">{</span>
                        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ArgumentException</span><span class="p">(</span><span class="s">"åªæœ‰åœ¨Gridå®¹å™¨å†…æ‰èƒ½è®¾ç½® ColumnName é™„åŠ å±æ€§"</span><span class="p">);</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SetColumnName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">,</span> <span class="kt">string</span> <span class="k">value</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">element</span><span class="p">.</span><span class="nf">SetValue</span><span class="p">(</span><span class="n">ColumnNameProperty</span><span class="p">,</span> <span class="k">value</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">GetColumnName</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">element</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span> <span class="n">element</span><span class="p">.</span><span class="nf">GetValue</span><span class="p">(</span><span class="n">ColumnNameProperty</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>æœ¬æ–‡æ‰€æœ‰ä»£ç æ”¾åœ¨ <a href="https://github.com/lindexi/lindexi_gd/tree/00e0d126/JurgekebowhawiNofeerileji">github</a> å’Œ <a href="https://gitee.com/lindexi/lindexi_gd/tree/00e0d126/JurgekebowhawiNofeerileji">gitee</a> æ¬¢è¿å°ä¼™ä¼´è®¿é—®</p>

<p>æ›´å¤šè¯·çœ‹ <a href="https://github.com/dotnet/wpf/issues/2844">Alias for Gridâ€˜s RowDefinition and ColumnDefinition Â· Issue #2844 Â· dotnet/wpf</a></p>

:ET