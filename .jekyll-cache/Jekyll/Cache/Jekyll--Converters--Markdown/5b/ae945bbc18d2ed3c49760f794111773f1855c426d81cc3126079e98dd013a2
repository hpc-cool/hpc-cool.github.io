I"Ï<p>å¦‚æœæˆ‘ä½¿ç”¨çš„æ˜¯å…·ä½“çš„æ•°ç»„è€Œæˆ‘çš„æ•°ç»„æ˜¯åŸºç±»æ•°ç»„ï¼Œè€Œæˆ‘ä¼ å…¥å­ç±»çš„å…ƒç´ è¿›è¡Œ json åºåˆ—åŒ–ï¼Œå¯èƒ½å‘ç° Json.NET åºåˆ—åŒ–æ²¡æœ‰åŒ…å«å­ç±»å…ƒç´ çš„å±æ€§ã€‚å¦‚æœè¦åŒ…å«å­ç±»çš„å±æ€§æˆ–å­—æ®µï¼Œå¯ä»¥åœ¨åºåˆ—åŒ–çš„ç±»æ•°ç»„å®šä¹‰ä¸º object æ•°ç»„çš„æ–¹å¼</p>

<!--more-->

<!-- CreateTime:2020/2/21 19:05:02 -->

<p>æˆ‘åœ¨ç”¨ WPF å†™ä¸€ä¸ªå¤æ‚çš„åº”ç”¨ï¼Œæˆ‘éœ€è¦ ASP.NET Core åå°ä¼ è¾“ä¸€ä¸ª AppData ç±»çš„æ•°ç»„ï¼ŒåŒ…å«çš„å±æ€§å¦‚ä¸‹</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Lindexi</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="kt">string</span> <span class="n">Name</span> <span class="p">{</span> <span class="k">set</span><span class="p">;</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç„¶åæˆ‘æœ‰ Foo ç±»ç»§æ‰¿ Lindexi ç±»</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Foo</span> <span class="p">:</span> <span class="n">Lindexi</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="kt">string</span> <span class="n">F1</span> <span class="p">{</span> <span class="k">set</span><span class="p">;</span> <span class="k">get</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ç”¨ä¸‹é¢ä»£ç åºåˆ—åŒ–</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="nf">ToString</span><span class="p">(</span><span class="k">new</span> <span class="nf">Foo</span><span class="p">()</span>
            <span class="p">{</span>
                <span class="n">F1</span> <span class="p">=</span> <span class="s">"æ—å¾·ç†™æ˜¯é€—æ¯”"</span>
            <span class="p">}));</span>
        <span class="p">}</span>

        <span class="k">static</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">(</span><span class="n">Lindexi</span> <span class="n">lindexi</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="k">new</span> <span class="p">[]</span> <span class="p">{</span> <span class="n">lindexi</span> <span class="p">});</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>è¿è¡Œå¯ä»¥çœ‹åˆ°è¾“å‡º</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[{</span><span class="nl">"Name"</span><span class="p">:</span><span class="kc">null</span><span class="p">}]</span><span class="w">
</span></code></pre></div></div>

<p>ä¹Ÿå°±æ˜¯ Foo çš„å±æ€§è¢«ä¸¢å¤±äº†ï¼Œåœ¨ .NET Core 3.0 å¯ä»¥ä½¿ç”¨ System.Text.Json å‘½åç©ºé—´è€Œä¸éœ€è¦ç”¨ Newtonsoft.Json åº“</p>

<p>æ­¤æ—¶è§£å†³æ–¹æ³•æ˜¯å°†æ•°ç»„å®šä¹‰ä¸º object æ•°ç»„</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">static</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">(</span><span class="n">Lindexi</span> <span class="n">lindexi</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="n">lindexi</span> <span class="p">});</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>åˆšæ‰å®šä¹‰çš„å±æ€§éƒ½æ˜¯é¦–å­—ç¬¦å¤§å†™çš„ï¼Œè½¬æ¢ä¸ºé¦–å­—ç¬¦å°å†™çš„å¯ä»¥æ·»åŠ é…ç½® PropertyNamingPolicy è¯·çœ‹ä¸‹é¢</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">static</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">(</span><span class="n">Lindexi</span> <span class="n">lindexi</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">JsonSerializer</span><span class="p">.</span><span class="nf">Serialize</span><span class="p">(</span><span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="n">lindexi</span> <span class="p">},</span> <span class="k">new</span> <span class="nf">JsonSerializerOptions</span><span class="p">()</span>
            <span class="p">{</span>
                <span class="n">PropertyNamingPolicy</span> <span class="p">=</span> <span class="n">JsonNamingPolicy</span><span class="p">.</span><span class="n">CamelCase</span>
            <span class="p">});</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>å¦å¤–ä½œä¸º json ä¸Šä¼ åˆ°åå°éœ€è¦æ³¨æ„æ·»åŠ  â€œapplication/jsonâ€ è¯·çœ‹ä»£ç </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kt">var</span> <span class="n">stringContent</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">StringContent</span><span class="p">(</span><span class="n">json</span><span class="p">,</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
</code></pre></div></div>

<p><a href="https://blog.lindexi.com/post/win10-uwp-%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%A6%82%E4%BD%95%E5%8F%91%E9%80%81%E7%B1%BB%E5%88%B0-asp-dotnet-core-%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0.html">win10 uwp å®¢æˆ·ç«¯å¦‚ä½•å‘é€ç±»åˆ° asp dotnet core ä½œä¸ºå‚æ•°</a></p>

<p>å¦‚æœä½ æ˜¯è¢«è¿™ä¸ªé—®é¢˜å‘åˆ°çš„ï¼ŒåŒæ—¶ä¸€å¼€å§‹æ²¡æœ‰æ‰¾åˆ°æœ¬æ–‡è§£å†³ï¼Œè¯·å‘Šè¯‰æˆ‘ä½ ä¹‹å‰æœçš„å…³é”®å­—ï¼Œæˆ‘å»ä¼˜åŒ–è¿™ä¸ªåšå®¢å†…å®¹</p>

:ET