I"Ó<p>æœ¬æ–‡å‘Šè¯‰å¤§å®¶å¦‚ä½•è·å–åº”ç”¨å†…çš„æ‰€æœ‰çª—å£ï¼Œæ— è®ºè¿™äº›çª—å£æœ‰æ²¡æ˜¾ç¤º</p>

<!--more-->

<!-- CreateTime:2019/2/11 8:55:31 -->

<!-- csdn -->

<p>åœ¨ WPF å¯ä»¥é€šè¿‡ Application.Current.Windows åˆ—ä¸¾åº”ç”¨çš„æ‰€æœ‰çª—å£</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">foreach</span><span class="p">(</span><span class="n">Window</span> <span class="n">window</span> <span class="k">in</span> <span class="n">Application</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Windows</span> <span class="p">)</span> 
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">window</span><span class="p">.</span><span class="n">Title</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å¦‚æœéœ€è¦è·å–ä¸€ä¸ªçº¿ç¨‹çš„çª—å£ï¼Œè¯·çœ‹ä»£ç </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">delegate</span> <span class="kt">bool</span> <span class="nf">EnumThreadDelegate</span><span class="p">(</span><span class="n">IntPtr</span> <span class="n">hWnd</span><span class="p">,</span> <span class="n">IntPtr</span> <span class="n">lParam</span><span class="p">);</span>

        <span class="p">[</span><span class="nf">DllImport</span><span class="p">(</span><span class="s">"user32.dll"</span><span class="p">)]</span>
        <span class="k">static</span> <span class="k">extern</span> <span class="kt">bool</span> <span class="nf">EnumThreadWindows</span><span class="p">(</span><span class="kt">int</span> <span class="n">dwThreadId</span><span class="p">,</span> <span class="n">EnumThreadDelegate</span> <span class="n">lpfn</span><span class="p">,</span>
            <span class="n">IntPtr</span> <span class="n">lParam</span><span class="p">);</span>

        <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">IntPtr</span><span class="p">&gt;</span> <span class="nf">EnumerateProcessWindowHandles</span><span class="p">(</span><span class="n">Process</span> <span class="n">process</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">handleList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">IntPtr</span><span class="p">&gt;();</span>

            <span class="k">foreach</span> <span class="p">(</span><span class="n">ProcessThread</span> <span class="n">thread</span> <span class="k">in</span> <span class="n">process</span><span class="p">.</span><span class="n">Threads</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">EnumThreadWindows</span><span class="p">(</span><span class="n">thread</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
                    <span class="p">(</span><span class="n">hWnd</span><span class="p">,</span> <span class="n">lParam</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="n">handleList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">hWnd</span><span class="p">);</span> <span class="k">return</span> <span class="k">true</span><span class="p">;</span> <span class="p">},</span> <span class="n">IntPtr</span><span class="p">.</span><span class="n">Zero</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="n">handleList</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre></div></div>

<p><a href="https://lindexi.gitee.io/post/WPF-%E4%B8%80%E4%B8%AA%E7%A9%BA%E7%9A%84-WPF-%E7%A8%8B%E5%BA%8F%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AA%E7%AA%97%E5%8F%A3.html">WPF ä¸€ä¸ªç©ºçš„ WPF ç¨‹åºæœ‰å¤šå°‘ä¸ªçª—å£</a></p>

<p><a href="https://lindexi.gitee.io/post/WPF-%E5%86%85%E9%83%A8%E7%9A%845%E4%B8%AA%E7%AA%97%E5%8F%A3%E4%B9%8B-MediaContextNotificationWindow.html">WPF å†…éƒ¨çš„5ä¸ªçª—å£ä¹‹ MediaContextNotificationWindow </a></p>

:ET