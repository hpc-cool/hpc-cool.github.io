I"<p>本文告诉大家如何写一个 Helloworld 程序。</p>

<!--more-->

<!-- CreateTime:2019/11/29 8:20:37 -->

<p>首先打开 VisualStudio ，大概现在也没有人还在用 VisualStudio 2013 了，所以我就不需要告诉大家需要用哪个版本的 VisualStudio ，如果我发现你的 VisualStudio 版本不对让程序运行错误，我就不会去回复。</p>

<p>创建一个空白的 C++ 项目，请看图片</p>

<p><img src="http://image.acmx.xyz/34fdad35-5dfe-a75b-2b4b-8c5e313038e2%2F2017123143444.jpg" alt="" /></p>

<p>然后就可以看到这个项目没有什么东西，接着右击源文件，添加C++文件</p>

<p>然后输入下面代码</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;iostream&gt; 
#include &lt;amp.h&gt; 
</span><span class="n">using</span> <span class="n">namespace</span> <span class="n">concurrency</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">v</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="sc">'G'</span><span class="p">,</span> <span class="sc">'d'</span><span class="p">,</span> <span class="sc">'k'</span><span class="p">,</span> <span class="sc">'k'</span><span class="p">,</span> <span class="sc">'n'</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="sc">'v'</span><span class="p">,</span> <span class="sc">'n'</span><span class="p">,</span> <span class="sc">'q'</span><span class="p">,</span> <span class="sc">'k'</span><span class="p">,</span> <span class="sc">'c'</span> <span class="p">};</span>

	<span class="n">array_view</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">av</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">v</span><span class="p">);</span>
	<span class="n">parallel_for_each</span><span class="p">(</span><span class="n">av</span><span class="p">.</span><span class="n">extent</span><span class="p">,</span> <span class="p">[</span><span class="o">=</span><span class="p">](</span><span class="n">index</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">&gt;</span> <span class="n">idx</span><span class="p">)</span> <span class="kr">restrict</span><span class="p">(</span><span class="n">amp</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">av</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="p">});</span>

	<span class="k">for</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">11</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span><span class="n">static_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">av</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>这里的 v 就是 Helloworld 减去 1 得到的，所以进行计算输出</p>

<p>按下运行就可以看到输出</p>

<p>这个例子是多线程同时执行，需要进行多线程的计算不能有依赖，也就是有需要计算的函数 1 和 2 不能让 1 需要等待 2 执行完成才能运行，只有 1 和 2 能同时运行的才能使用这个方法</p>

:ET