I"
<p>本文告诉大家经常使用的 NameSyntax 拿到值的 ToString 和 ToFullString 方法的区别</p>

<!--more-->

<!-- CreateTime:2018/11/19 15:22:23 -->

<!-- 标签：Roslyn,MSBuild,编译器 -->

<p>从代码可以看到 NameSyntax 的 ToString 和 ToFullString 方法是调用 Green 的 ToString 和 ToFullString ，所以具体还需要进入 Green 看是如何写</p>

<p><img src="http://image.acmx.xyz/lindexi%2F2018714927294075.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别0.png) -->

<p>这里 NameSyntax 的 Green 是 GreenNode ，从 代码可以看到两个方法的区别</p>

<p><img src="http://image.acmx.xyz/lindexi%2F2018714929553566.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别1.png) -->

<p>使用 ToFullString 会添加前后的空白代码，使用 ToString 的就会去掉前后空白代码，如获取 <code class="language-plaintext highlighter-rouge">using lindexi.wpf.Framework</code> 的代码，使用两个不同的函数可以获得不同的值</p>

<p><img src="http://image.acmx.xyz/lindexi%2F2018714935172735.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别2.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F2018714936138557.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别3.png) -->

<p>除了空白，使用 ToFullString 可以拿到换行，如获得类的基类，使用 <code class="language-plaintext highlighter-rouge">TypeSyntax</code> 拿到的可能包含换行。</p>

<p>如类型 <code class="language-plaintext highlighter-rouge">class lindexi : doubi</code> ，使用两个不同的函数可以看到不同的变量</p>

<p><img src="http://image.acmx.xyz/lindexi%2F2018714948184727.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别4.png) -->

<p><img src="http://image.acmx.xyz/lindexi%2F2018714949408765.jpg" alt="" /></p>

<!-- ![](image/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别/Roslyn NameSyntax 的 ToString 和 ToFullString 的区别5.png) -->

<p>所以 ToFullString 拿到的变量使用 Trim 就是 ToString 拿到的变量</p>

<p>如果好奇本文开始说的  Green 是什么，请看 <a href="https://walterlv.github.io/post/the-red-green-tree-of-roslyn.html">理解 Roslyn 中的红绿树（Red-Green Trees） - walterlv</a></p>

:ET