I"‹D<p>æˆ‘æœ‰ä¸€ä¸ªå¤è€çš„ dotnet core 3.1 çš„ asp dotnet core é¡¹ç›®ï¼Œç°åœ¨æˆ‘å‡†å¤‡å°†ä»–å‡çº§åˆ° dotnet 5 äº†ã€‚ä½†æ˜¯æˆ‘ä¸æƒ³å’Œåšå®¢å›­ä¸€æ ·ç¿»è½¦ï¼Œå› æ­¤æˆ‘éœ€è¦åšä¸€ç‚¹é›†æˆæµ‹è¯•çš„è¾…åŠ©ï¼Œå°½ç®¡ä¾ç„¶è¿˜æ˜¯ç¿»è½¦äº†ï¼Œä½†æ˜¯æˆ‘è¦å­¦ä¹ åšå®¢å›­ä¼Ÿå¤§çš„ç²¾ç¥ï¼Œå°†åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢æ‰€åšçš„æ‰€æœ‰è‡ªåŠ¨åŒ–æµ‹è¯•é¡¹ç›®çš„æ–¹æ³•å†™ä¸‹æ¥</p>

<!--more-->

<!-- CreateTime:2020/11/24 20:29:54 -->

<p>åœ¨å¼€å§‹ä» dotnet core 3.1 å‡çº§åˆ° dotnet 5 ä¹‹å‰ï¼Œæˆ‘å…ˆå¼€å§‹å‡†å¤‡é›†æˆæµ‹è¯•ã€‚ä¸€å¼€å§‹å‡†å¤‡çš„æµ‹è¯•æ˜¯å¼€å¯ä¸»æœºï¼Œç„¶åé€šè¿‡ç½‘ç»œè°ƒç”¨ã€‚ç„¶è€Œè¿™ä¸ªæ–¹æ³•ä¸€å¼€å¯æˆ‘å°±è¢«æ‹–å‡ºå»äº†â€¦â€¦ å› ä¸ºå¼€å¯ä¸»æœºä¼šå ç”¨ç«¯å£ï¼Œè€Œåˆšå¥½æˆ‘çš„å‡ ä¸ªé¡¹ç›®éƒ½é‡‡ç”¨äº†ç›¸åŒçš„ç«¯å£</p>

<p>è€Œæˆ‘å¼€å§‹å°è¯•åœ¨é…ç½®æ–‡ä»¶é‡Œé¢æŒ‡å®šéšæœºçš„ç«¯å£ï¼Œè€Œæ­¤æ—¶åˆæœ‰ç„å­¦çš„ç½‘ç»œæƒé™ï¼Œä½†æ˜¯æˆ‘åˆä¸çŸ¥é“å°†è°æ‹–å‡ºå»</p>

<p>æ­¤æ—¶å°ä¼™ä¼´ç»™æˆ‘å®‰åˆ©äº† TestServer åº“ï¼Œé€šè¿‡è¿™ä¸ªåº“å¯ä»¥ä¸ç›‘å¬ç«¯å£ï¼Œå…¨éƒ¨éƒ½åœ¨å†…å­˜ä¸­è·‘ã€‚å½“ç„¶äº†ï¼Œè®¿é—®å¤–éƒ¨æœåŠ¡å°±çœ‹æ³¨å…¥äº†ï¼Œæ²¡åšæ³¨å…¥ä¹Ÿä¾ç„¶èµ°ç½‘ç»œçš„ã€‚åªæ˜¯è‡ªå·±çš„åº”ç”¨ä¸ä¼šå»ç›‘å¬ç«¯å£è€Œå·²</p>

<p>å…ˆæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¿™æ˜¯ä¸€ä¸ªå•å…ƒæµ‹è¯•é¡¹ç›®ï¼Œç”¨æ¥åšé›†æˆæµ‹è¯•</p>

<p>åœ¨ dotnet é‡Œé¢çš„å¥—è·¯å°±æ˜¯å…ˆå®‰è£… NuGet åŒ…ï¼Œç„¶åè°ƒç”¨ã€‚å®‰è£…çš„ NuGet æ˜¯ Microsoft.AspNetCore.TestHost åº“ã€‚è¿™ä¸ªåº“ä¸€å¼€å§‹éœ€è¦å®‰è£… 3.1.10 çš„ç‰ˆæœ¬ï¼Œåœ¨ä¹‹åé¡¹ç›®å‡çº§åˆ° dotnet 5 æ‰èƒ½ä½¿ç”¨æœ€æ–°çš„ç‰ˆæœ¬</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Microsoft.AspNetCore.TestHost"</span> <span class="na">Version=</span><span class="s">"3.1.10"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>åœ¨æˆ‘çš„å•å…ƒæµ‹è¯•é¡¹ç›®é‡Œé¢å…¨éƒ¨å®‰è£…çš„åº“å¦‚ä¸‹</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;ItemGroup&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Microsoft.NET.Test.Sdk"</span> <span class="na">Version=</span><span class="s">"16.8.0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTest.TestAdapter"</span> <span class="na">Version=</span><span class="s">"2.1.1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTest.TestFramework"</span> <span class="na">Version=</span><span class="s">"2.1.1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"coverlet.collector"</span> <span class="na">Version=</span><span class="s">"1.3.0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Moq"</span> <span class="na">Version=</span><span class="s">"4.15.1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTest.TestAdapter"</span> <span class="na">Version=</span><span class="s">"2.1.2"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTest.TestFramework"</span> <span class="na">Version=</span><span class="s">"2.1.2"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTestEnhancer"</span> <span class="na">Version=</span><span class="s">"2.1.0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"System.Text.Encoding.CodePages"</span> <span class="na">Version=</span><span class="s">"5.0.0"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Microsoft.AspNetCore.TestHost"</span> <span class="na">Version=</span><span class="s">"3.1.10"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ItemGroup&gt;</span>
</code></pre></div></div>

<p>åœ¨ä½¿ç”¨ TestServer è¿›è¡Œé›†æˆæµ‹è¯•çš„æ—¶å€™ï¼Œå…¶å®å°±æ˜¯å°†å¯åŠ¨ä¸»æœºçš„é€»è¾‘æ›¿æ¢æ‰ï¼Œå¦‚ <a href="https://www.cnblogs.com/kasnti/p/12246180.html">ASP.NET Coreæ­å»ºå¤šå±‚ç½‘ç«™æ¶æ„ã€12-xUnitå•å…ƒæµ‹è¯•ä¹‹é›†æˆæµ‹è¯•ã€‘ - kasnti - åšå®¢å›­</a> è¿™ç¯‡åšå®¢æ‰€è¯´çš„æ–¹æ³•ï¼Œå’±æ¥æ–°å»ºä¸€ä¸ªé™æ€ç±»ï¼Œç”¨æ¥åˆ›å»ºä¸»æœºå’Œè¿è¡Œ</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">[</span><span class="n">TestClass</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">TestHostBuild</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">HttpClient</span> <span class="nf">GetTestClient</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="n">_host</span><span class="p">.</span><span class="nf">GetTestClient</span><span class="p">();</span>

        <span class="p">[</span><span class="n">AssemblyInitialize</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GlobalInitialize</span><span class="p">(</span><span class="n">TestContext</span> <span class="n">testContext</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">IHost</span> <span class="n">host</span> <span class="p">=</span> <span class="k">await</span> <span class="nf">CreateAndRun</span><span class="p">();</span>
            <span class="n">_host</span> <span class="p">=</span> <span class="n">host</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">static</span> <span class="n">IHost</span> <span class="n">_host</span><span class="p">;</span>

        <span class="p">[</span><span class="n">AssemblyCleanup</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">GlobalCleanup</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_host</span><span class="p">.</span><span class="nf">Dispose</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">static</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">IHost</span><span class="p">&gt;</span> <span class="nf">CreateAndRun</span><span class="p">()</span> <span class="p">=&gt;</span> <span class="nf">CreateHostBuilder</span><span class="p">().</span><span class="nf">StartAsync</span><span class="p">();</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">IHostBuilder</span> <span class="nf">CreateHostBuilder</span><span class="p">()</span> <span class="p">=&gt;</span>
            <span class="n">Host</span><span class="p">.</span><span class="nf">CreateDefaultBuilder</span><span class="p">()</span>
                <span class="p">.</span><span class="nf">ConfigureWebHostDefaults</span><span class="p">(</span><span class="n">webBuilder</span> <span class="p">=&gt;</span>
                <span class="p">{</span>
                    <span class="n">webBuilder</span><span class="p">.</span><span class="n">UseStartup</span><span class="p">&lt;</span><span class="n">Startup</span><span class="p">&gt;();</span>
                    <span class="n">webBuilder</span><span class="p">.</span><span class="nf">UseTestServer</span><span class="p">();</span> <span class="c1">//å…³é”®æ˜¯å¤šäº†è¿™ä¸€è¡Œå»ºç«‹TestServer</span>
                <span class="p">})</span>
                <span class="p">.</span><span class="nf">ConfigureAppConfiguration</span><span class="p">((</span><span class="n">hostingContext</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span> <span class="p">=&gt;</span>
                <span class="p">{</span>
                	<span class="c1">// è¿›è¡Œæµ‹è¯•çš„é…ç½®</span>
                    <span class="kt">var</span> <span class="n">appConfigurator</span> <span class="p">=</span> <span class="n">config</span><span class="p">.</span><span class="nf">ToAppConfigurator</span><span class="p">();</span>
                    <span class="c1">// è¿™é‡Œä½¿ç”¨äº† https://github.com/dotnet-campus/dotnetCampus.Configurations åšé…ç½®</span>
                    <span class="kt">var</span> <span class="n">apmConfiguration</span> <span class="p">=</span> <span class="n">appConfigurator</span><span class="p">.</span><span class="n">Of</span><span class="p">&lt;</span><span class="n">ApmConfiguration</span><span class="p">&gt;();</span>
                    <span class="n">apmConfiguration</span><span class="p">.</span><span class="n">DisableApm</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
                <span class="p">})</span>
                <span class="c1">// ä½¿ç”¨ auto fac ä»£æ›¿é»˜è®¤çš„ IOC å®¹å™¨ </span>
                <span class="p">.</span><span class="nf">UseServiceProviderFactory</span><span class="p">(</span><span class="k">new</span> <span class="nf">AutofacServiceProviderFactory</span><span class="p">());</span>
               
    <span class="p">}</span>
</code></pre></div></div>

<p>ä¸Šé¢ä»£ç ä¸­çš„ CreateHostBuilder å’Œ asp dotnet core é¡¹ç›®çš„ Program.cs çš„ä»£ç å·®ä¸å¤šï¼Œåªæ˜¯ ConfigureWebHostDefaults æ–¹æ³•æ›´æ”¹äº†</p>

<p>è€Œ ConfigureAppConfiguration æ˜¯è¿›è¡Œé…ç½®ï¼Œè¿™é‡Œè¿›è¡Œä¸€äº›æµ‹è¯•é¡¹ç›®ç‰¹æ„çš„é…ç½®ï¼Œå¦‚ç¦ç”¨äº†æˆ‘çš„ APM æœåŠ¡ã€‚åœ¨åšé›†æˆæµ‹è¯•çš„æ—¶å€™ï¼Œå¯ä»¥é€‰æ‹©å¼€å¯æˆ–å…³é—­ APM æœåŠ¡ï¼Œå¦‚æœä½ çš„è¿ç»´å°ä¼™ä¼´ä¸ä¼šæ‰“ä½ ï¼Œé‚£ä¹ˆè¿˜æ˜¯å¼€å§‹ APM æ¯”è¾ƒå¥½ã€‚è¿™é‡Œçš„ä»£ç ä½¿ç”¨äº† <a href="https://github.com/dotnet-campus/dotnetCampus.Configurations">https://github.com/dotnet-campus/dotnetCampus.Configurations</a> çš„æ–¹æ³•è¿›è¡Œé…ç½®</p>

<p>åœ¨ MSTest å•å…ƒæµ‹è¯•é¡¹ç›®é‡Œé¢ï¼Œä½¿ç”¨ AssemblyInitialize ç‰¹æ€§ï¼Œå¯ä»¥è®©æŸä¸ªé™æ€æ–¹æ³•åœ¨å•å…ƒæµ‹è¯•å¯åŠ¨çš„æ—¶å€™è¿è¡Œä¸€æ¬¡ã€‚è€Œä½¿ç”¨ AssemblyCleanup æ–¹æ³•å¯ä»¥åœ¨å•å…ƒæµ‹è¯•å®Œæˆä¹‹åï¼Œæ— è®ºæ˜¯å¦æˆåŠŸéƒ½ä¼šè°ƒç”¨ä¸€æ¬¡</p>

<p>å› æ­¤åœ¨ GlobalInitialize æ–¹æ³•æ ‡è®° AssemblyInitialize ç‰¹æ€§ï¼Œåœ¨è¿™é‡Œé¢åˆ›å»ºä¸»æœºç„¶åè¿è¡Œä¸»æœºã€‚æ­¤æ—¶è¿è¡Œçš„ä¸»æœºä¸ä¼šå»ç›‘å¬ç«¯å£ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ç«¯å£çš„å½¢å¼å»è°ƒç”¨ä»–ï¼Œè€Œæ˜¯éœ€è¦ä½¿ç”¨ TestServer æä¾›çš„æ‰©å±•æ–¹æ³•è·å– HttpClient å»è®¿é—®ã€‚ä¹Ÿå°±æ˜¯é€šè¿‡ TestHostBuild.GetTestClient æ‹¿åˆ°çš„æ‰èƒ½è®¿é—®è¿™ä¸ªåœ¨å†…å­˜çš„ä¸»æœº</p>

<p>æˆ‘å¯¹æ¯ä¸ªæ§åˆ¶å™¨éƒ½åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ï¼Œç”¨æ¥è¿›è¡Œå•å…ƒæµ‹è¯•</p>

<p>å¦‚æˆ‘çš„é¡¹ç›®é‡Œé¢æœ‰ä¸€ä¸ª StatusOverviewController æ§åˆ¶å™¨ï¼Œè¿™ä¸ªæ§åˆ¶å™¨ç”¨æ¥è¿”å›æœåŠ¡çš„å†…å®¹ï¼Œå¤§æ¦‚é€»è¾‘å¦‚ä¸‹</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">[</span><span class="n">ApiController</span><span class="p">]</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">"[controller]"</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Route</span><span class="p">(</span><span class="s">"/"</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">StatusOverviewController</span> <span class="p">:</span> <span class="n">ControllerBase</span>
    <span class="p">{</span>
    	<span class="p">[</span><span class="n">HttpGet</span><span class="p">]</span>
        <span class="k">public</span> <span class="kt">string</span> <span class="nf">Get</span><span class="p">()</span>
        <span class="p">{</span>
        	<span class="c1">// ä¹Ÿè®¸ä½¿ç”¨ DateTimeOffset æ›´æ¸…çœŸï¼Œä½†è¿™åˆä¸æ˜¯æˆ‘å†™çš„</span>
        	<span class="k">return</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss.fff"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>æ–°å»ºä¸€ä¸ªå•å…ƒæµ‹è¯•æ¥æµ‹è¯•è¿™ä¸ªæ¥å£çš„è®¿é—®</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="p">[</span><span class="n">TestClass</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">StatusOverviewControllerTest</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="n">TestMethod</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">GetTest</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">using</span> <span class="nn">var</span> <span class="n">httpClient</span> <span class="p">=</span> <span class="n">TestHostBuild</span><span class="p">.</span><span class="nf">GetTestClient</span><span class="p">();</span>

            <span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">await</span> <span class="n">httpClient</span><span class="p">.</span><span class="nf">GetStringAsync</span><span class="p">(</span><span class="s">"/"</span><span class="p">);</span>
            <span class="n">Assert</span><span class="p">.</span><span class="nf">IsNotNull</span><span class="p">(</span><span class="n">result</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre></div></div>

<p>å¤§æ¦‚è¿™æ ·å°±èƒ½å®Œæˆå¯¹è¿™ä¸ªæ¥å£çš„æµ‹è¯•äº†</p>

<p>å½“ç„¶äº†è¿™æ˜¯å¯¹ç®€å•çš„æ¥å£å¯ä»¥è¿™æ ·å†™ï¼Œä½†æ˜¯å¯¹å¤æ‚çš„æ¥å£æ¥è¯´ï¼Œæœ‰å¾ˆå¤šç‰¹æ®Šçš„éœ€æ±‚ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ° CUnit åº“äº†ï¼Œé€šè¿‡å®‰è£… MSTestEnhancer è¿™ä¸ª NuGet åº“å°±å¯ä»¥æ·»åŠ å•å…ƒæµ‹è¯•è¾…åŠ©åº“ï¼Œå¦‚ä¸‹é¢ä»£ç </p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"MSTestEnhancer"</span> <span class="na">Version=</span><span class="s">"2.0.1"</span> <span class="nt">/&gt;</span>
</code></pre></div></div>

<p>å®‰è£…ä¹‹åï¼Œå°±å¯ä»¥å†™å…¥å¦‚ä¸‹é¢çš„é€»è¾‘</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">TestClass</span><span class="p">]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">DemoTest</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">ContractTestCase</span><span class="p">]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Foo</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="s">"å½“æ»¡è¶³ A æ¡ä»¶æ—¶ï¼Œåº”è¯¥å‘ç”Ÿ A' äº‹ã€‚"</span><span class="p">.</span><span class="nf">Test</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="c1">// Arrange</span>
            <span class="c1">// Action</span>
            <span class="c1">// Assert</span>
        <span class="p">});</span>
        
        <span class="s">"å½“æ»¡è¶³ B æ¡ä»¶æ—¶ï¼Œåº”è¯¥å‘ç”Ÿ B' äº‹ã€‚"</span><span class="p">.</span><span class="nf">Test</span><span class="p">(()</span> <span class="p">=&gt;</span>
        <span class="p">{</span>
            <span class="c1">// Arrange</span>
            <span class="c1">// Action</span>
            <span class="c1">// Assert</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>è¿™ä¸ª CUnit åœ¨ GitHub ä¸Šå®Œå…¨å¼€æºï¼Œè¯·çœ‹ <a href="https://github.com/dotnet-campus/CUnit">https://github.com/dotnet-campus/CUnit</a></p>

<p>åœ¨å‡†å¤‡å¥½äº†é›†æˆæµ‹è¯•é¡¹ç›®ä¹‹åï¼Œæˆ‘å°±å¼€å§‹å‡†å¤‡å‡çº§åˆ° dotnet 5 äº†ï¼Œç„¶è€Œæ­¤æ—¶å‘ç°æ„å»ºæœåŠ¡å™¨ç¿»è½¦äº†ï¼Œå¦‚ <a href="https://blog.lindexi.com/post/%E5%88%9A%E5%88%9A%E6%88%91%E4%BB%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9B%9E%E6%BB%9A%E4%BA%86-dotnet-5-%E7%9A%84%E7%8E%AF%E5%A2%83.html">åˆšåˆšæˆ‘ä»æœåŠ¡å™¨å›æ»šäº† dotnet 5 çš„ç¯å¢ƒ</a> åšå®¢çš„å†…å®¹</p>

<p>ç»ˆäºæˆ‘é€šè¿‡ <a href="https://blog.lindexi.com/post/%E5%A6%82%E4%BD%95%E7%BB%99-CI-CD-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8A-.NET-5-%E6%9E%84%E5%BB%BA%E5%92%8C%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83.html">å¦‚ä½•ç»™ CI CD æœåŠ¡å™¨æ­å»ºä¸Š .NET 5 æ„å»ºå’Œè¿è¡Œç¯å¢ƒ</a> çš„æ–¹æ³•ä¿®å¥½äº†</p>

<p>ç„¶è€Œå°ä¼™ä¼´å‘Šè¯‰æˆ‘ä» dotnet core 3.1 åˆ° dotnet 5 æœ‰å¦‚ä¸‹çš„æ›´æ”¹ <a href="https://docs.microsoft.com/en-us/dotnet/core/compatibility/3.1-5.0#core-net-libraries">Breaking changes, version 3.1 to 5.0 - .NET Core</a></p>

<p>åœ¨ç»è¿‡äº†ä¸¤å¤©çš„æ›´æ–°ä¾ç„¶å¤±è´¥ä¹‹åï¼Œæˆ‘å¼ºè¡Œé­”æ”¹äº†ä»£ç ï¼Œä¸Šåˆ°äº† dotet 5 ä¹‹åï¼Œå‘ç°äº† APM æŒ‚äº†â€¦â€¦ å›  APM å†…éƒ¨ä½¿ç”¨äº†åŸå…ˆ dotnet core 3.1 çš„åœ¨ dotnet 5 åºŸå¼ƒçš„æ¥å£â€¦â€¦ ç„¶åå°±åˆ°äº†å†™åšå®¢æ—¶é—´äº†</p>

:ET