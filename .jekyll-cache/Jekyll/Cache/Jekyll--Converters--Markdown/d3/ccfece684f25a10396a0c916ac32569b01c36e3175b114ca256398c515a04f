I"	<p>在 WPF 下，可以使用和 UWP 一样的 Pointer 触摸架构，只是开启的方式和 .NET Framework 版本有细微的差异</p>

<!--more-->

<!-- CreateTime:2020/8/21 14:20:47 -->

<p>看过 <a href="https://blog.lindexi.com/post/win10-%E6%94%AF%E6%8C%81%E9%BB%98%E8%AE%A4%E6%8A%8A%E8%A7%A6%E6%91%B8%E6%8F%90%E5%8D%87-Pointer-%E6%B6%88%E6%81%AF.html">win10 支持默认把触摸提升 Pointer 消息</a> 的小伙伴可以了解到，这个博客的方法是通过配置文件的方式</p>

<p>而在 .NET Core 的 WPF 下是不会去读取  App.config 文件，那么此时应该如何开启？此时可以通过代码开启</p>

<p>打开 App.xaml.cs 文件，在构造函数添加下面代码</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">public</span> <span class="nf">App</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">AppContext</span><span class="p">.</span><span class="nf">SetSwitch</span><span class="p">(</span><span class="s">"Switch.System.Windows.Input.Stylus.EnablePointerSupport"</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>此时就可以开启 Pointer 消息的支持。注意需要在第一个窗口的显示之前调用，否则这个开关也就无效</p>

<p>开启之后，还请小伙伴测试一下，看是否真的开启了 Pointer 消息</p>

<p>测试方法请看 <a href="https://blog.lindexi.com/post/WPF-%E5%A6%82%E4%BD%95%E7%A1%AE%E5%AE%9A%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%90%AF%E4%BA%86-Pointer-%E8%A7%A6%E6%91%B8%E6%B6%88%E6%81%AF%E7%9A%84%E6%94%AF%E6%8C%81.html">WPF 如何确定应用程序开启了 Pointer 触摸消息的支持</a></p>

<p>代码放在 <a href="https://github.com/lindexi/lindexi_gd/tree/4c87d6d1b73dfa725a37e913c5568333201834af/KemjawyecawDurbahelal">github</a> 欢迎小伙伴访问</p>

<p>特别感谢 WPF 官方开发者<a href="https://github.com/rladuca">Rob LaDuca</a> 告诉我这个方法，详细请看 <a href="https://github.com/dotnet/wpf/issues/3360#issuecomment-678032853">https://github.com/dotnet/wpf/issues/3360#issuecomment-678032853</a></p>

<p>关于配置文件的从 .NET Framework 到 .NET Core 的更新，请看 <a href="https://natemcmaster.com/blog/2019/01/09/netcore-primitives-3/#additional-runtime-settings">Deep-dive into .NET Core primitives, part 3: runtimeconfig.json in depth</a></p>

:ET