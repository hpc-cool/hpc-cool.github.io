I"½<!--more-->

<!-- CreateTime:2018/2/13 17:23:03 -->

<div id="toc"></div>

<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…Bash</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="p">-</span><span class="k">get</span> <span class="n">install</span> <span class="n">libcr</span><span class="p">-</span><span class="n">dev</span> <span class="n">mpich2</span> <span class="n">mpich2</span><span class="p">-</span><span class="n">doc</span>


</code></pre></div></div>

<p>å†™hello.c</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp"># include &lt;mpi.h&gt;
# include &lt;stdio.h&gt;
</span>
<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">rank</span><span class="p">,</span> <span class="n">size</span><span class="p">;</span>

  <span class="n">MPI_Init</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>      <span class="cm">/* starts MPI */</span>
  <span class="n">MPI_Comm_rank</span> <span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">rank</span><span class="p">);</span>        <span class="cm">/* get current process id */</span>
  <span class="n">MPI_Comm_size</span> <span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">size</span><span class="p">);</span>        <span class="cm">/* get number of processes */</span>
  <span class="n">printf</span><span class="p">(</span> <span class="s">"Hello world from process %d of %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="n">size</span> <span class="p">);</span>
  <span class="n">MPI_Finalize</span><span class="p">();</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>ä½¿ç”¨mpicc ï¼Œ<code class="language-plaintext highlighter-rouge">[[INVALID],INVALID] ORTE_ERROR_LOG: A system-required executable either could not be found or was not executable by this user in file ess_singleton_module.c at line 231</code></p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">$</span> <span class="n">mpicc</span><span class="p">.</span><span class="n">mpich2</span> <span class="n">hello</span><span class="p">.</span><span class="n">c</span> <span class="p">-</span><span class="n">o</span> <span class="n">h</span>

<span class="err">$</span> <span class="n">mpiexec</span><span class="p">.</span><span class="n">mpich</span> <span class="p">-</span><span class="n">np</span> <span class="p">&lt;</span><span class="n">num</span><span class="p">&gt;</span> <span class="p">./</span><span class="n">h</span>
</code></pre></div></div>

<p>I use <code class="language-plaintext highlighter-rouge">mpiexec.mpich</code> run the code.<code class="language-plaintext highlighter-rouge">mpicc.mpich2 hello.c -o h</code> <code class="language-plaintext highlighter-rouge">mpiexec.mpich -np &lt;num&gt; ./h</code></p>

<p>å¯ä»¥å®‰è£…mpiï¼Œä»http://download.csdn.net/detail/lindexi_gd/9714817 ä¸‹è½½ï¼Œä½¿ç”¨</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tar</span> <span class="n">zvf</span>  <span class="n">openmpi</span><span class="p">-</span><span class="m">1.6</span><span class="p">.</span><span class="m">5.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>  
<span class="n">cd</span> <span class="n">openmpi</span><span class="p">-</span><span class="m">1.6</span><span class="p">.</span><span class="m">5</span>
<span class="p">./</span><span class="n">config</span>
<span class="n">sudo</span> <span class="n">make</span> <span class="p">&amp;</span> <span class="n">make</span> <span class="n">install</span>

</code></pre></div></div>

:ET