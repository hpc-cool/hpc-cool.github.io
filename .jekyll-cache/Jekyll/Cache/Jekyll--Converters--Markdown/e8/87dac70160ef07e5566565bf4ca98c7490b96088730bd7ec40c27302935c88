I"‚<p>æœ¬æ–‡å‘Šè¯‰å¤§å®¶ï¼ŒvisualBrush å·²çŸ¥ bug ï¼Œå¸Œæœ›å¤§å®¶ä½¿ç”¨ VisualBrush æ—¶å¯ä»¥çŸ¥é“</p>

<!--more-->

<!-- CreateTime:2019/7/12 21:07:41 -->

<!-- csdn -->

<ol>
  <li>
    <p>å¦‚æœæŠŠ VisualBrush ç»‘å®šçš„æ˜¯åœ¨å…ƒç´ åŠ å…¥åˆ°è§†è§‰æ ‘å‰ï¼Œé‚£ä¹ˆåœ¨å…ƒç´ åŠ å…¥åˆ°è§†è§‰æ ‘ä¹‹åç§»é™¤è§†è§‰æ ‘ï¼ŒVisualBrush å°±ä¸ä¼šè‡ªåŠ¨åˆ·æ–°</p>
  </li>
  <li>
    <p>å¦‚æœæŠŠæ²¡æœ‰åŠ å…¥è§†è§‰æ ‘çš„å…ƒç´ åŠ å…¥åˆ° VisualBrush ç»‘å®šï¼Œä¹‹åæŠŠå…ƒç´ åŠ å…¥è§†è§‰æ ‘ï¼Œå†ç§»é™¤ï¼Œå†åŠ å…¥ï¼Œè¿™æ—¶å¯èƒ½ VisualBrush ä¸å†åˆ·æ–°</p>
  </li>
  <li>
    <p>å¦‚æœåœ¨ VisualBrush è·å–åˆ°å…ƒç´ ä¹‹åï¼Œè®¾ç½®å…ƒç´ çš„ visibility ä¸º Collapsed é‚£ä¹ˆ VisualBrush ä¸ä¼šæ›´æ–°å¸ƒå±€ï¼Œè¯¦ç»†è¯·çœ‹<a href="https://github.com/dotnet/wpf/issues/1241">The VisualBrush only refresh the visual but not the layout when the Visual visibility changes</a></p>
  </li>
  <li>
    <p>å¦‚æœå…ƒç´ ç»‘å®š VisualBrush ç„¶åå¯¹å…ƒç´ ä½¿ç”¨ RenderTargetBitmap å°±ä¼šè®© VisualBrush æ— æ³•ä½¿ç”¨ã€‚</p>
  </li>
</ol>

<p>è§£å†³æ–¹æ³•ï¼Œè®¾ç½® VisualBrush çš„ Visual ä¸ºç©ºå†è®¾ç½®å…ƒç´ </p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">visual</span> <span class="p">=</span> <span class="n">visualBrush</span><span class="p">.</span><span class="n">Visual</span><span class="p">;</span>
<span class="n">visualBrush</span><span class="p">.</span><span class="n">Visual</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
<span class="n">visualBrush</span><span class="p">.</span><span class="n">Visual</span> <span class="p">=</span> <span class="n">visual</span><span class="p">;</span>
</code></pre></div></div>

<p>å‚è§ï¼š<a href="https://stackoverflow.com/a/3073378/6116637">https://stackoverflow.com/a/3073378/6116637</a></p>

<p><a href="https://stackoverflow.com/a/13182210/6116637">https://stackoverflow.com/a/13182210/6116637</a></p>

<p><a href="https://huchengv5.gitee.io/post/WPF-%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86VisualBrush%E5%81%9C%E6%AD%A2%E6%9B%B4%E6%96%B0%E9%97%AE%E9%A2%98.html">WPF å¦‚ä½•å¤„ç†VisualBrushåœæ­¢æ›´æ–°é—®é¢˜</a></p>

:ET