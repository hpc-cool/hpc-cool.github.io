I"<p>使用 Thread.GetCurrentProcessorId 可以获取当前线程处理器的 Id 是哪个，而通过 Process.GetCurrentProcess().Id 可以获取当前进程的 Id 号，这两个的差别从上面描述就能看出</p>

<!--more-->

<!-- CreateTime:6/28/2020 10:25:07 AM -->

<p>更进一步的 Thread.GetCurrentProcessorId() 方法将会缓存处理器的 Id 因此前后两次线程如果处理器切换，此时拿到的值是不对的。在官方文档里面说了使用代码不得依赖于其正确性，因此这个值基本上只在 DUMP 使用</p>

<p>而 Process.GetCurrentProcess().Id 是一个不需要 win32 的支持的方法，获取速度特别快，详细请看 <a href="https://blog.walterlv.com/post/performance-of-get-process.html">.NET 中 GetProcess 相关方法的性能 - walterlv</a></p>

<p>获取速度如下</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 100 次执行耗时</span>

    <span class="n">Process</span><span class="p">.</span><span class="nf">GetProcesses</span><span class="p">()</span>
        <span class="m">00</span><span class="p">:</span><span class="m">00</span><span class="p">:</span><span class="m">00.7254688</span>
    <span class="n">Process</span><span class="p">.</span><span class="nf">GetProcessById</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
        <span class="m">00</span><span class="p">:</span><span class="m">00</span><span class="p">:</span><span class="m">01.3660640</span><span class="err">（实际数值取决于当前进程数）</span>
    <span class="n">Process</span><span class="p">.</span><span class="nf">GetProcessesByName</span><span class="p">(</span><span class="s">"Walterlv.Demo"</span><span class="p">)</span>
        <span class="m">00</span><span class="p">:</span><span class="m">00</span><span class="p">:</span><span class="m">00.5604279</span>
    <span class="n">Process</span><span class="p">.</span><span class="nf">GetCurrentProcess</span><span class="p">()</span>
        <span class="m">00</span><span class="p">:</span><span class="m">00</span><span class="p">:</span><span class="m">00.0000546</span>

</code></pre></div></div>

:ET